<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modbus 신호 전송</title>
</head>
<body>
<h1>Modbus TCP 신호 전송 및 읽기</h1>

<!-- 값 전송 폼 -->
<form action="/sendSignal" method="post">
    <label for="value">Register 값 (1 ~ 255):</label>
    <input type="number" id="value" name="value" min="1" max="255" required><br>
    <label for="address">Register 주소 (1 ~ 255):</label>
    <input type="number" id="address" name="address" min="1" max="255" required>
    <br><br>
    <button type="submit">신호 전송</button>
</form>

<br>

<!-- 신호 읽기 폼 (Register 주소 입력받음) -->
<form action="/readSignal" method="get">
    <label for="address">읽을 Register 주소:</label>
    <input type="number" id="address-read" name="address" min="0" required><br><br>
    <button type="submit">Modbus 신호 읽기</button>
</form>

<br>

<!-- 결과 메시지 출력 -->
<p><strong>결과 메시지:</strong> <span th:text="${message}"></span></p>

<!-- 읽은 값이 있을 경우 출력 -->
<p th:if="${value != null}"><strong>읽어온 값:</strong> <span th:text="${value}"></span></p>


<!-- 다시 시도할 수 있는 링크 -->
<a href="/">다시 시도</a>

</body>
</html>
