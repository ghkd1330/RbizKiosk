<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" style="overflow: hidden">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Admin Page</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
    <!-- Custom CSS -->
    <link th:href="@{/kiosk/css/adminPage.css}"
          href="../kiosk/css/adminPage.css" rel="stylesheet">
</head>
<body>

<div id="nav-bar">
    <div id="nav-header">
        <form th:action="@{/logout}" method="post">
            <button class="btn btn-primary btn-sm logout" type="submit" style="margin-left: 3px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-escape" viewBox="0 0 16 16" style="padding-right: 2px;">
                    <path d="M8.538 1.02a.5.5 0 1 0-.076.998 6 6 0 1 1-6.445 6.444.5.5 0 0 0-.997.076A7 7 0 1 0 8.538 1.02"/>
                    <path d="M7.096 7.828a.5.5 0 0 0 .707-.707L2.707 2.025h2.768a.5.5 0 1 0 0-1H1.5a.5.5 0 0 0-.5.5V5.5a.5.5 0 0 0 1 0V2.732z"/>
                </svg>
                 Logout
            </button>
        </form>
        <hr/>
    </div>

    <div id="nav-content">
        <div id="order-status-btn" class="nav-button"><i class="fas fa-palette"></i><span th:text="#{order.status}">주문 현황</span></div>
        <div id="customer-chat-btn" class="nav-button"><i class="fas fa-images"></i><span th:text="#{customer.chat}">손님과의 대화</span></div>
        <div id="chat-history-btn" class="nav-button"><i class="fas fa-thumbtack"></i><span th:text="#{chat.history}">대화 기록</span></div>
        <hr/>
        <div id="product-management-btn" class="nav-button"><i class="fas fa-heart"></i><span th:text="#{product.management}">상품 관리</span></div>
        <div id="statistics-btn" class="nav-button"><i class="fas fa-chart-line"></i><span th:text="#{statistics}">통계</span></div>
        <div id="add-account-btn" class="nav-button"><i class="fas fa-fire"></i><span th:text="#{add.account}">계정 추가</span></div>
        <hr/>
        <div id="nav-content-highlight"></div>
    </div>
    <input id="nav-footer-toggle" type="checkbox"/>
    <div id="nav-footer">
        <div id="nav-footer-heading">
            <div id="nav-footer-avatar"><img src="/kiosk/img/adminPage/profile.jpeg"/></div>
            <div id="nav-footer-titlebox"><a id="nav-footer-title" target="_blank" th:text="|${admin.loginId}|"></a><span id="nav-footer-subtitle">Admin</span></div>
            <label for="nav-footer-toggle"><i class="fas fa-caret-up"></i></label>
        </div>
    </div>
</div>

<div id="main-container" style="overflow-y: auto; ">
    <div class="order-info">
        <h2 th:text="#{order.status}">주문 현황</h2>
        <!-- 주문 목록을 반복합니다 -->
        <div th:each="order : ${orders}" class="order-block">
            <!-- 첫 번째 테이블: 주문 정보 -->
            <table class="table order-table">
                <thead>
                <tr>
                    <th th:text="#{order.number}">주문 번호</th>
                    <th th:text="#{order.time}">주문 시간</th>
                    <th th:text="#{total.price}">총 결제 금액</th>
                    <th th:text="#{total.quantity}">총 상품 수량</th>
                    <th th:text="#{takeout}">포장 여부</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="${order.id}">001</td>
                    <td th:text="${#temporals.format(order.orderTime, 'yyyy-MM-dd HH:mm')}">2023-10-18 12:34</td>
                    <td th:text="${order.totalPrice}">30000</td>
                    <td th:text="${order.totalQuantity}">3</td>
                    <td th:switch="${order.takeout}">
                        <span th:case="true" th:text="#{order_takeout_true}">포장</span>
                        <span th:case="false" th:text="#{order_takeout_false}">매장식사</span>
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- 두 번째 테이블: 상품 정보 -->
            <table class="table product-table">
                <thead>
                <tr>
                    <th th:text="#{product.name}">상품명</th>
                    <th th:text="#{quantity}">수량</th>
                    <th th:text="#{options}">옵션</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${order.products}">
                    <td th:text="#{product.name}">소고기 타코</td>
                    <td th:text="${product.quantity}">2</td>
                    <td>
                        <ul>
                            <li th:each="entry : ${product.options.entrySet()}">
                                <span th:text="${entry.value}">옵션</span>
                            </li>
                        </ul>
                    </td>
                </tr>
                </tbody>
            </table>

            <hr/>
        </div>
    </div>
</div>





<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

</body>
</html>